# Immovlan Property Scraper

A Python-based web scraper that extracts property listings from [Immovlan.be](https://immovlan.be). It collects property links and then scrapes detailed information (price, type, location, features, etc.) into CSV files. The scraper handles pagination and uses dynamic price‑based batching to retrieve all available listings.

## Features

- **Complete link collection** - Uses a price‑based batching technique to overcome pagination limits and gather all property links.

- **Detailed extraction** - Scrapes 17 fields including price, locality, living surface, number of rooms, garden, swimming pool, etc.

- **Multi‑threaded scraping** - Speeds up the process with concurrent requests (default 12 workers).

- **Test mode** - Limit the number of processed links for quick development and debugging.



## Requirements

- Python 3.6+
- Required packages: `requests`, `beautifulsoup4`

Install dependencies with:

```bash
pip install requests beautifulsoup4
```
## Usage 
1. Clone the repository and navigate into the project folder.

2. Create a src directory to store the output files:
```
mkdir src
```
3. Run the main method
```
python main.py
```
This will start collecting links and then scrape the details. The final output is written to src/property_details.csv.

4. Test mode
Open main.py and set TEST_LIMIT to a number (e.g. 5) to scrape only the first few links. Set it back to None for a full run.

***Note***: The current version only saves the detailed property data (property_details.csv). If you also want to store the list of collected links, you can modify main.py to write them to `src/property_links.csv.`

## Output
The scraped data is stored in `src/property_details.csv` with the following columns:

| Column | Description |
|--------|-------------|
| Link | URL of the property page |
| Locality | Postal code of the property |
| Type of property | e.g. Apartment, House |
| Subtype of property | e.g. Penthouse, Duplex, Villa |
| Price | Listed price (integer) |
| Type of sale | For sale or for rent |
| Number of rooms | Number of bedrooms |
| Livable surface | Living area in m² |
| Fully equipped kitchen | Yes/No/... |
| Furnished | Yes/No/... |
| Fireplace | Yes/No/... |
| Terrace | Yes/No/... |
| Garden | Yes/No/... |
| Total land surface | Land area in m² (if applicable) |
| Number of facades |  |
| Swimming pool | Yes/No/... |
| State of the property | e.g. As new, To renovate, etc. |


## Project Structure
.
├── main.py               # Entry point – orchestrates link collection and detail scraping
├── link_collector.py     # LinkCollector class – fetches all property links
├── detail_scraper.py     # DetailScraper class – scrapes individual property pages
├── src/                  # Folder where output CSV files are stored
│   ├── property_details.csv   # (generated) Detailed property data
│   └── property_links.csv     # (optional) List of collected links – not generated by default
└── README.md             # This file

## How It Works

Link Collection `link_collector.py`
The LinkCollector starts with a minimum price of 0 and fetches a batch of listings from the search results. It extracts the price of the last property in the batch, then sets the next min_price to that price + 1 and requests the next batch. This continues until no more links are found. This method bypasses the site’s standard pagination limit and ensures all properties are collected.

Detail Scraping `detail_scraper.py`
The DetailScraper uses a ThreadPoolExecutor to fetch property pages concurrently. For each page, it parses the HTML with BeautifulSoup, extracts the desired fields using CSS selectors and regular expressions, and writes the result to a CSV file. Fields that cannot be found are filled with "N/A".

## Important Notes
**Respect the website:** Always check `robots.txt` and the site’s terms of service. Use the scraper responsibly and consider adding delays if you plan to run large batches.

Maintenance: The scraping logic relies on the current HTML structure of immovlan.be. If the site updates its layout, the selectors may need to be adjusted.

Legal: This tool is for educational purposes. Ensure you have permission to scrape data from the target website.



